---
/**
 * ArrowLink Component
 * Text link with animated arrow on hover
 *
 * Uses SmartLink for "Coming Soon" handling at build time.
 *
 * Verified values from Webflow:
 * - Hover opacity: 0.7
 * - Arrow translateX on hover: 4px
 * - Transition: 0.2s ease
 */

import SmartLink from '../global/SmartLink.astro';

interface Props {
  /**
   * Link text
   */
  text: string;

  /**
   * Link URL
   */
  href: string;

  /**
   * Arrow direction
   * @default 'right'
   */
  direction?: 'right' | 'up-right';

  /**
   * Open in new tab
   */
  external?: boolean;

  /**
   * Additional CSS class
   */
  class?: string;
}

const {
  text,
  href,
  direction = 'right',
  external = false,
  class: className
} = Astro.props;
---

<SmartLink
  class:list={['arrow-link', className]}
  href={href}
  target={external ? '_blank' : undefined}
  rel={external ? 'noopener noreferrer' : undefined}
>
  <span class="arrow-link-text">{text}</span>
  <svg
    class="arrow-link-icon"
    width="16"
    height="16"
    viewBox="0 0 16 16"
    fill="none"
    aria-hidden="true"
  >
    {direction === 'up-right' ? (
      <path
        d="M4.5 11.5L11.5 4.5M11.5 4.5H5.5M11.5 4.5V10.5"
        stroke="currentColor"
        stroke-width="1.5"
        stroke-linecap="round"
        stroke-linejoin="round"
      />
    ) : (
      <path
        d="M3 8H13M13 8L9 4M13 8L9 12"
        stroke="currentColor"
        stroke-width="1.5"
        stroke-linecap="round"
        stroke-linejoin="round"
      />
    )}
  </svg>
</SmartLink>

<style>
  .arrow-link {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    color: var(--text-primary);
    font-size: var(--text-small);
    font-weight: 500;
    text-decoration: none;
    transition: opacity 0.2s ease;
  }

  .arrow-link:hover {
    opacity: 0.7;
  }

  .arrow-link:focus-visible {
    outline: 2px solid var(--text-primary);
    outline-offset: 2px;
  }

  .arrow-link-icon {
    flex-shrink: 0;
    transition: transform 0.2s ease;
  }

  .arrow-link:hover .arrow-link-icon {
    transform: translateX(4px);
  }
</style>
